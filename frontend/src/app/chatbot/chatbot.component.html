<!-- frontend/src/app/chatbot/chatbot.component.html -->

<div class="chat-container">
  <div class="messages">
    <ng-container *ngFor="let m of messages">
      <!-- if it's a list message, render a table -->
      <ng-container *ngIf="m.list; else textMsg">
        <table class="student-table">
          <thead>
            <tr><th>Student Name</th></tr>
          </thead>
          <tbody>
            <tr *ngFor="let name of m.list">
              <td>{{ name }}</td>
            </tr>
          </tbody>
        </table>
      </ng-container>

      <!-- otherwise, plain text bubble -->
      <ng-template #textMsg>
        <div class="message" [ngClass]="m.from">
          {{ m.text }}
        </div>
      </ng-template>
    </ng-container>
  </div>

  <div class="input-row">
    <input
      [(ngModel)]="input"
      (keyup.enter)="send()"
      placeholder="Type a message..."
    />
    <button (click)="send()">Send</button>
  </div>
</div>